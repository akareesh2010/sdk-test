<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Click2Talk</title>

  <!-- keep your SDK CSS so elements exist -->
  <link rel="stylesheet" href="./webRTC/css/common.css?v=1634266640747">
  <link rel="stylesheet" href="./webRTC/css/main.css?v=1634266640747">

  <style>
    /* make it just a small icon page */
    body { margin:0; height:100vh; display:flex; align-items:center; justify-content:center; }
    #callNow {
      width:64px; height:64px; border-radius:50%;
      border:none; cursor:pointer;
      background:#22c55e;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 12px 30px rgba(0,0,0,.25);
    }
    #callNow img { width:28px; height:28px; }
    /* hide the SDK panels */
    #main, #reload, #calling { display:none !important; }
  </style>
</head>
<body>

<button id="callNow" aria-label="Call now">
  <img src="./webRTC/images/call-btn-icon.png" alt="Call">
</button>

<!-- SDK scripts -->
<script src="./jquery-3.6.0.min.js"></script>
<script src="./debug.js?v=1634266640747"></script>
<script src="./gsRTC.min.js?v=1634266640747"></script>
<script src="./webRTC/js/language.js?v=1634266640747"></script>
<script src="./webRTC/js/main.js?v=1634266640747"></script>

<script>
  // On user click, initialize then start call
  document.getElementById("callNow").addEventListener("click", async () => {
    try {
      // Some SDKs require device init first:
      if (typeof window.startDevice === "function") {
        await window.startDevice();
      }

      // Try to trigger the SDK call button logic:
      // (This is the green bar button in your UI)
      const btn = document.querySelector(".bottom-call-btn");
      if (btn) {
        btn.click();
        return;
      }

      // Fallback: if SDK exposes a call function
      if (typeof window.startCall === "function") {
        window.startCall();
        return;
      }

      alert("Call function not found. I need the function name from main.js.");
    } catch (e) {
      console.error(e);
      alert("Error starting call. Open Console to see details.");
    }
  });
</script>

</body>
</html>
